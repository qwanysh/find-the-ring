(this.webpackJsonphomework_54_kuanysh_beisembayev=this.webpackJsonphomework_54_kuanysh_beisembayev||[]).push([[0],{19:function(e,t,n){e.exports=n(37)},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(17),l=n.n(s),u=(n(24),n(4)),i=n(5),o=n(1),m=Object(r.createContext)(),E=function(e){var t=e.state,n=e.dispatch,a=e.children;return c.a.createElement(m.Provider,{value:[t,n]},a)},h=n(9),p=function(e){var t=Object(h.random)(0,e-1);return Object(h.range)(e).map((function(e){return d(e===t)}))},f=function(e){return e.filter((function(e){return e.isOpen&&!e.hasRing})).length},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{hasRing:e,isOpen:!1}},b=n(7),g="IN_PROGRESS",O="DEFEAT",v="VICTORY",C=(a={},Object(b.a)(a,O,"You lose!"),Object(b.a)(a,v,"You found it!"),a),_=n(10),S=function(e,t){var n,a=t.type,r=t.payload;switch(a){case"OPEN_CHEST":if(e.gameStatus===g){var c=Object(_.a)({},e),s=c.chests[r];return s.isOpen=!0,s.hasRing?c.gameStatus=v:18===f(c.chests)&&(c.gameStatus=O,(n=c.chests,n.find((function(e){return e.hasRing}))).isOpen=!0),c}return e;case"RESTART_GAME":return Object(_.a)({},e,{chests:p(36),gameStatus:g});default:return e}},j=(n(26),function(e){return c.a.createElement("button",{className:"Button",disabled:e.disabled,onClick:e.onClick},e.children)}),N=(n(27),function(){var e=Object(r.useContext)(m),t=Object(u.a)(e,2),n=t[0],a=t[1],s=n.gameStatus,l=n.chests,o=f(l),E=18-o;return E<=5&&(E=c.a.createElement("span",{className:"ControlPanel__text--danger"},E)),c.a.createElement("div",{className:"ControlPanel"},c.a.createElement("p",{className:"ControlPanel__text"},"Attempts left: ",E,"/",18),c.a.createElement(j,{disabled:0===o&&s===g,onClick:function(){return a({type:"RESTART_GAME"})}},"Restart"),c.a.createElement(i.b,{to:"/"},c.a.createElement(j,null,"Go to Menu")))}),R=(n(32),function(e){var t=e.chest,n=e.openChest,a=["Chest"];return t.isOpen&&(a.push("Chest--open"),t.hasRing&&a.push("Chest--has-ring")),c.a.createElement("div",{className:a.join(" "),onClick:n})}),k=(n(33),function(){var e=Object(r.useContext)(m),t=Object(u.a)(e,1)[0].gameStatus;return c.a.createElement("div",{className:"GameStatusCaption"},c.a.createElement("p",{className:"GameStatusCaption__text"},C[t]))}),x=(n(34),function(){var e=Object(r.useContext)(m),t=Object(u.a)(e,2),n=t[0],a=t[1],s=n.gameStatus,l=n.chests;return c.a.createElement("div",{className:"ChestContainer"},l.map((function(e,t){return c.a.createElement(R,{key:t,chest:e,index:t,openChest:function(){return a({type:"OPEN_CHEST",payload:t})}})})),s!==g&&c.a.createElement(k,null))}),y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(x,null),c.a.createElement(N,null))},A=(n(35),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Menu__ring"}),c.a.createElement(i.b,{to:"/game"},c.a.createElement(j,null,"Start Game")))}),T=(n(36),function(){var e=Object(r.useReducer)(S,{gameStatus:g,chests:p(36)}),t=Object(u.a)(e,2),n=t[0],a=t[1];return c.a.createElement(E,{state:n,dispatch:a},c.a.createElement(i.a,{basename:"/find-the-ring/"},c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App__container"},c.a.createElement("h1",{className:"App__heading"},"Find the ring"),c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/game",exact:!0},c.a.createElement(y,null)),c.a.createElement(o.b,{path:"/",exact:!0},c.a.createElement(A,null)),c.a.createElement(o.b,{path:"/"},c.a.createElement(o.a,{to:"/"})))))))});l.a.render(c.a.createElement(T,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.29366168.chunk.js.map